import{o as g,ba as h,R as e,a as i,c as x,ao as k,ap as N,aq as M,d as y,aa as I,M as R,m as _,u as p,bb as W,bc as B,bd as j,be as q,B as v,bf as L}from"./index-DvmOrY9r.js";const V=g(function({connectionType:a,model:n,session:o}){const s=a.configEditorComponent||h;return e.createElement(i.Suspense,{fallback:e.createElement(x.LoadingEllipses,null)},e.createElement(s,{model:{target:n},session:o}))});var E={},w=N;Object.defineProperty(E,"__esModule",{value:!0});var S=E.default=void 0,z=w(k()),D=M;S=E.default=(0,z.default)((0,D.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew");const O=g(function({connectionTypeChoices:n,connectionType:o,setConnectionType:s}){const d=n[0];return i.useEffect(()=>{o||s(d)},[o,d,s]),e.createElement("form",{autoComplete:"off"},o?e.createElement(y,{value:o.name,label:"connectionType",helperText:o.description?e.createElement(e.Fragment,null,o.description,o.url?e.createElement(I,{href:o.url,rel:"noopener noreferrer",target:"_blank"},e.createElement(S,null)):null):null,select:!0,fullWidth:!0,onChange:t=>{s(n.find(m=>m.name===t.target.value))},variant:"outlined"},n.map(t=>e.createElement(R,{key:t.name,value:t.name},t.displayName||t.name))):null)}),T=_()(a=>({root:{marginTop:a.spacing(1)},stepper:{backgroundColor:a.palette.background.default},button:{marginTop:a.spacing(1),marginRight:a.spacing(1)},actionsContainer:{marginBottom:a.spacing(2)}})),f=["Select a Connection Type","Configure Connection"],F=g(function({model:a}){const[n,o]=i.useState(),[s,d]=i.useState(),[t,m]=i.useState(0),{classes:l}=T(),r=p.getSession(a),{pluginManager:b}=p.getEnv(r),c=i.useMemo(()=>n==null?void 0:n.configSchema.create({connectionId:s},p.getEnv(a)),[s,n,a]);return e.createElement("div",{className:l.root},e.createElement(W,{className:l.stepper,activeStep:t,orientation:"vertical"},f.map(C=>e.createElement(B,{key:C},e.createElement(j,null,C),e.createElement(q,null,t===0?e.createElement(O,{connectionTypeChoices:b.getConnectionElements(),connectionType:n,setConnectionType:u=>{o(u),u&&d(`${u.name}-${Date.now()}`)}}):n&&c?e.createElement(V,{connectionType:n,model:c,session:r}):null,e.createElement("div",{className:l.actionsContainer},e.createElement(v,{disabled:t===0,onClick:()=>{m(t-1)},className:l.button},"Back"),e.createElement(v,{disabled:!(t===0&&n||t===1&&c),variant:"contained",color:"primary",onClick:()=>{if(t===f.length-1){if(c&&L(r)){const u=r.addConnectionConf(c);r.makeConnection(u)}else r.notify("No config model to add");p.isSessionModelWithWidgets(r)&&r.hideWidget(a)}else m(t+1)},className:l.button,"data-testid":"addConnectionNext"},t===f.length-1?"Connect":"Next")))))))});export{F as default};
//# sourceMappingURL=AddConnectionWidget-DbgAzWtW.js.map

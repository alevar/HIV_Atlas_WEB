import{u as v,r as l,R as e,b as E,D as T,M as L,s as k,C as z,p as h,v as D,a as f,x as F,q as R}from"./rpcWorker-DOy5Xw-Q.js";function w(){return e.createElement("div",null,e.createElement(F,{size:20,style:{marginRight:20}}),e.createElement(h,{display:"inline"},"Creating SVG"))}function p({children:n,...a}){return e.createElement("div",null,e.createElement(R,{...a},n))}function d(n,a){return v.useLocalStorage(`svg-${n}`,a)}function N({model:n,handleClose:a}){const r=v.getSession(n),s=typeof OffscreenCanvas<"u",[o,y]=l.useState(s),[b,i]=l.useState(!1),[c,m]=l.useState(),[u,C]=d("file","jbrowse.svg"),[g,S]=d("theme",r.themeName||"default");return e.createElement(E.Dialog,{open:!0,onClose:a,title:"Export SVG"},e.createElement(T,null,c?e.createElement(E.ErrorMessage,{error:c}):b?e.createElement(w,null):null,e.createElement(p,{helperText:"filename",value:u,onChange:t=>{C(t.target.value)}}),r.allThemes?e.createElement(p,{select:!0,label:"Theme",value:g,onChange:t=>{S(t.target.value)}},Object.entries(r.allThemes()).map(([t,x])=>e.createElement(L,{key:t,value:t},x.name||"(Unknown name)"))):null,s?e.createElement(k,{control:e.createElement(z,{checked:o,onChange:()=>{y(t=>!t)}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):e.createElement(h,null,"Note: rasterizing layers not yet supported in this browser, so SVG size may be large")),e.createElement(D,null,e.createElement(f,{variant:"contained",color:"secondary",onClick:()=>{a()}},"Cancel"),e.createElement(f,{variant:"contained",color:"primary",type:"submit",onClick:async()=>{i(!0),m(void 0);try{await n.exportSvg({rasterizeLayers:o,filename:u,themeName:g}),a()}catch(t){console.error(t),m(t)}finally{i(!1)}}},"Submit")))}export{N as default};
//# sourceMappingURL=ExportSvgDialog-DpNPXALN.js.map

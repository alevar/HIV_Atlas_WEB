{"version":3,"file":"Tooltip-BaqbVm66.js","sources":["../../node_modules/@jbrowse/plugin-alignments/esm/LinearSNPCoverageDisplay/components/Tooltip.js"],"sourcesContent":["import React from 'react';\nimport { observer } from 'mobx-react';\nimport { toLocale } from '@jbrowse/core/util';\nimport { Tooltip } from '@jbrowse/plugin-wiggle';\nconst toP = (s = 0) => +(+s).toFixed(1);\nconst pct = (n, total) => `${toP((n / (total || 1)) * 100)}%`;\nconst TooltipContents = React.forwardRef(function TooltipContents2({ feature }, reactRef) {\n    const start = feature.get('start');\n    const end = feature.get('end');\n    const name = feature.get('refName');\n    const { refbase, all, total, ref, '-1': rn1, '1': r1, '0': r0, ...info } = feature.get('snpinfo');\n    const loc = [\n        name,\n        start === end ? toLocale(start) : `${toLocale(start)}..${toLocale(end)}`,\n    ]\n        .filter(f => !!f)\n        .join(':');\n    return (React.createElement(\"div\", { ref: reactRef },\n        React.createElement(\"table\", null,\n            React.createElement(\"caption\", null, loc),\n            React.createElement(\"thead\", null,\n                React.createElement(\"tr\", null,\n                    React.createElement(\"th\", null, \"Base\"),\n                    React.createElement(\"th\", null, \"Count\"),\n                    React.createElement(\"th\", null, \"% of Total\"),\n                    React.createElement(\"th\", null, \"Strands\"),\n                    React.createElement(\"th\", null, \"Source\"))),\n            React.createElement(\"tbody\", null,\n                React.createElement(\"tr\", null,\n                    React.createElement(\"td\", null, \"Total\"),\n                    React.createElement(\"td\", null, all)),\n                React.createElement(\"tr\", null,\n                    React.createElement(\"td\", null,\n                        \"REF \",\n                        refbase ? `(${refbase.toUpperCase()})` : ''),\n                    React.createElement(\"td\", null, ref),\n                    React.createElement(\"td\", null, pct(ref, all)),\n                    React.createElement(\"td\", null,\n                        rn1 ? `${rn1}(-)` : '',\n                        r1 ? `${r1}(+)` : ''),\n                    React.createElement(\"td\", null)),\n                Object.entries(info).map(([key, entry]) => Object.entries(entry).map(([base, score]) => (React.createElement(\"tr\", { key: base },\n                    React.createElement(\"td\", null, base.toUpperCase()),\n                    React.createElement(\"td\", null, score.total),\n                    React.createElement(\"td\", null, base === 'total' || base === 'skip'\n                        ? '---'\n                        : pct(score.total, all)),\n                    React.createElement(\"td\", null,\n                        score['-1'] ? `${score['-1']}(-)` : '',\n                        score['1'] ? `${score['1']}(+)` : ''),\n                    React.createElement(\"td\", null, key)))))))));\n});\nconst SNPCoverageTooltip = observer(function (props) {\n    const { model } = props;\n    const { featureUnderMouse: feat } = model;\n    return feat && feat.get('type') === 'skip' ? null : (React.createElement(Tooltip, { TooltipContents: TooltipContents, ...props }));\n});\nexport default SNPCoverageTooltip;\n"],"names":["toP","s","pct","n","total","TooltipContents","React","feature","reactRef","start","end","name","refbase","all","ref","rn1","r1","r0","info","loc","toLocale","f","key","entry","base","score","SNPCoverageTooltip","observer","props","model","feat","Tooltip"],"mappings":"wDAIA,MAAMA,EAAM,CAACC,EAAI,IAAM,EAAE,CAACA,GAAG,QAAQ,CAAC,EAChCC,EAAM,CAACC,EAAGC,IAAU,GAAGJ,EAAKG,GAAKC,GAAS,GAAM,GAAG,CAAC,IACpDC,EAAkBC,EAAM,WAAW,SAA0B,CAAE,QAAAC,CAAS,EAAEC,EAAU,CACtF,MAAMC,EAAQF,EAAQ,IAAI,OAAO,EAC3BG,EAAMH,EAAQ,IAAI,KAAK,EACvBI,EAAOJ,EAAQ,IAAI,SAAS,EAC5B,CAAE,QAAAK,EAAS,IAAAC,EAAK,MAAAT,EAAO,IAAAU,EAAK,KAAMC,EAAK,IAAKC,EAAI,IAAKC,EAAI,GAAGC,CAAM,EAAGX,EAAQ,IAAI,SAAS,EAC1FY,EAAM,CACRR,EACAF,IAAUC,EAAMU,WAASX,CAAK,EAAI,GAAGW,WAASX,CAAK,CAAC,KAAKW,WAASV,CAAG,CAAC,EAC9E,EACS,OAAOW,GAAK,CAAC,CAACA,CAAC,EACf,KAAK,GAAG,EACb,OAAQf,EAAM,cAAc,MAAO,CAAE,IAAKE,CAAU,EAChDF,EAAM,cAAc,QAAS,KACzBA,EAAM,cAAc,UAAW,KAAMa,CAAG,EACxCb,EAAM,cAAc,QAAS,KACzBA,EAAM,cAAc,KAAM,KACtBA,EAAM,cAAc,KAAM,KAAM,MAAM,EACtCA,EAAM,cAAc,KAAM,KAAM,OAAO,EACvCA,EAAM,cAAc,KAAM,KAAM,YAAY,EAC5CA,EAAM,cAAc,KAAM,KAAM,SAAS,EACzCA,EAAM,cAAc,KAAM,KAAM,QAAQ,CAAC,CAAC,EAClDA,EAAM,cAAc,QAAS,KACzBA,EAAM,cAAc,KAAM,KACtBA,EAAM,cAAc,KAAM,KAAM,OAAO,EACvCA,EAAM,cAAc,KAAM,KAAMO,CAAG,CAAC,EACxCP,EAAM,cAAc,KAAM,KACtBA,EAAM,cAAc,KAAM,KACtB,OACAM,EAAU,IAAIA,EAAQ,YAAW,CAAE,IAAM,EAAE,EAC/CN,EAAM,cAAc,KAAM,KAAMQ,CAAG,EACnCR,EAAM,cAAc,KAAM,KAAMJ,EAAIY,EAAKD,CAAG,CAAC,EAC7CP,EAAM,cAAc,KAAM,KACtBS,EAAM,GAAGA,CAAG,MAAQ,GACpBC,EAAK,GAAGA,CAAE,MAAQ,EAAE,EACxBV,EAAM,cAAc,KAAM,IAAI,CAAC,EACnC,OAAO,QAAQY,CAAI,EAAE,IAAI,CAAC,CAACI,EAAKC,CAAK,IAAM,OAAO,QAAQA,CAAK,EAAE,IAAI,CAAC,CAACC,EAAMC,CAAK,IAAOnB,EAAM,cAAc,KAAM,CAAE,IAAKkB,CAAM,EAC5HlB,EAAM,cAAc,KAAM,KAAMkB,EAAK,YAAW,CAAE,EAClDlB,EAAM,cAAc,KAAM,KAAMmB,EAAM,KAAK,EAC3CnB,EAAM,cAAc,KAAM,KAAMkB,IAAS,SAAWA,IAAS,OACvD,MACAtB,EAAIuB,EAAM,MAAOZ,CAAG,CAAC,EAC3BP,EAAM,cAAc,KAAM,KACtBmB,EAAM,EAAI,EAAI,GAAGA,EAAM,EAAI,CAAC,MAAQ,GACpCA,EAAM,CAAG,EAAI,GAAGA,EAAM,CAAG,CAAC,MAAQ,EAAE,EACxCnB,EAAM,cAAc,KAAM,KAAMgB,CAAG,CAAC,CAAE,CAAC,CAAC,CAAC,CAAC,CAC9D,CAAC,EACKI,EAAqBC,EAAS,SAAUC,EAAO,CACjD,KAAM,CAAE,MAAAC,CAAK,EAAKD,EACZ,CAAE,kBAAmBE,CAAI,EAAKD,EACpC,OAAOC,GAAQA,EAAK,IAAI,MAAM,IAAM,OAAS,KAAQxB,EAAM,cAAcyB,EAAS,CAAE,gBAAiB1B,EAAiB,GAAGuB,CAAK,CAAE,CACpI,CAAC","x_google_ignoreList":[0]}
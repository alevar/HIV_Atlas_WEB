import{m as P,o as x,r as n,u as D,R as e,b as y,D as R,a3 as m,q as d,a4 as A,a5 as L,a6 as N,v as O,a as p}from"./rpcWorker-CJ7cIcjW.js";const k=P()(a=>({dialogContent:{display:"flex",flexDirection:"column"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:a.transitions.create("transform",{duration:a.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}})),M=x(function({onClose:a,model:f}){const{classes:l,cx:v}=k(),[o,E]=n.useState(""),[i,b]=n.useState(""),[s,h]=n.useState(""),[r,C]=n.useState(""),[u,S]=n.useState(!1),{jbrowse:c}=D.getSession(f),U=!!(o&&i||s||r);function g(){o&&i?c.addPlugin({name:o,umdUrl:i}):s?c.addPlugin({esmUrl:s}):r&&c.addPlugin({cjsUrl:r})}return e.createElement(y.Dialog,{open:!0,onClose:a,title:"Add custom plugin"},e.createElement("form",{onSubmit:g},e.createElement(R,{className:l.dialogContent},e.createElement(m,null,"Enter the name of the plugin and its URL. The name should match what is defined in the plugin's build."),e.createElement(d,{label:"Plugin name",variant:"outlined",value:o,onChange:t=>{E(t.target.value)}}),e.createElement(d,{label:"Plugin URL",variant:"outlined",value:i,onChange:t=>{b(t.target.value)}}),e.createElement(m,{onClick:()=>{S(!u)}},e.createElement(A,{className:v(l.expand,{[l.expandOpen]:u}),"aria-expanded":u,"aria-label":"show more"},e.createElement(L,null)),"Advanced options"),e.createElement(N,{in:u},e.createElement("div",{className:l.dialogContent},e.createElement(m,null,"The above fields assume that the plugin is built in UMD format. If your plugin is in another format, or you have additional builds you want to add (such as a CJS build for using NodeJS APIs in desktop), you can enter the URLs for those builds below."),e.createElement(d,{label:"ESM build URL",variant:"outlined",value:s,onChange:t=>{h(t.target.value)}}),e.createElement(d,{label:"CJS build URL",variant:"outlined",value:r,onChange:t=>{C(t.target.value)}})))),e.createElement(O,null,e.createElement(p,{variant:"contained",onClick:a},"Cancel"),e.createElement(p,{variant:"contained",color:"primary",onClick:g,disabled:!U},"Submit"))))});export{M as default};
//# sourceMappingURL=AddCustomPluginDialog-DHu5K-eG.js.map
